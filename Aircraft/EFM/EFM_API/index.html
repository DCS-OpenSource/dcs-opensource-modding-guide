<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>EFM API - DCS Modding Documentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "EFM API";
        var mkdocs_page_input_path = "Aircraft\\EFM\\EFM_API.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> DCS Modding Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../links/">Useful Links</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Aircraft Lua</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Stubs</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Lua/Stubs/DeviceStubs/">Device Stubs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Lua/Stubs/MainPanelStubs/">Mainpanel Stubs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Lua/Stubs/LockOnOptions/">LockOn_Options</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Modules</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Lua/Modules/Terrain/">Terrain</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Devices</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Lua/Devices/avLuaDevice/">avLuaDevice</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Lua/Devices/avSimpleWeaponSystem/">avSimpleWeaponSystem</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Indicators</a>
    <ul>
                <li class="toctree-l2"><a class="" href="../../Lua/Indicators/drawing.md">Drawing</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Lua/Indicators/controllers/">Controllers</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Plugins</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Lua/Plugins/NavDataPlugin/">NavDataPlugin</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Lua/Plugins/WeaponSystemPlugin/">WeaponSystemPlugin</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Lua/Plugins/LuaToolsPlugin/">LuaToolsPlugin</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Aircraft EFM</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">EFM API</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#api-overview">API Overview</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#dcs-reference-frames">DCS Reference Frames</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#local">Local</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#global">Global</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#function-overview">Function Overview</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#setup">Setup</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#ed_fm_templatecpp">ED_FM_TEMPLATE.cpp</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#ed_fm_simulate">ed_fm_simulate</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#description">Description</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#ed_fm_set_command">ed_fm_set_command</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#description_1">Description</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#parameters_1">Parameters</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#ed_fm_set_current_state">ed_fm_set_current_state</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#description_2">Description</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#parameters_2">Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns_1">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#ed_fm_set_current_state_body_axis">ed_fm_set_current_state_body_axis</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameters_3">Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#description_3">Description</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns_2">Returns</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Useful Bits</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../Useful_bits/prop_blur/">Prop Blur</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Database</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Database/wsTypes/">wsTypes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Database/iCommands/">iCommands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Database/draw-args/">Draw Args</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Useful bits</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../UsefulBits/ModelViewer/">Modelviewer</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ED Blender Exporter</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../EDM-Export/Overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../EDM-Export/Mesh/">Mesh</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../EDM-Export/Animations/">Animations</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../EDM-Export/Lights/">Lights</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">DCS Modding Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Aircraft EFM</li>
      <li class="breadcrumb-item active">EFM API</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="dcs-efm-api">DCS EFM API<a class="headerlink" href="#dcs-efm-api" title="Permanent link">#</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">#</a></h2>
<p>The EFM API Template is the outline for the API your aircraft needs to provide into correctly work within the game. </p>
<p>You build a .dll file which the game will load (when it is specified in the entry.lua). It defines functions which DCS will call to query information about the state of your plane. DCS will also call functions to pass you important information about the current state of your aircraft and the atmosphere.</p>
<p>The rough outline of data flow is that DCS will first pass you information about your plane's state, then DCS will call your simulate function. Then DCS will ask you for information it requires like your engine RPM, or any forces or moments on the aircraft. Using this information DCS will then update your plane's acceleration, velocity and position (along with the angular equivalents of these).</p>
<h2 id="api-overview">API Overview<a class="headerlink" href="#api-overview" title="Permanent link">#</a></h2>
<h3 id="dcs-reference-frames">DCS Reference Frames<a class="headerlink" href="#dcs-reference-frames" title="Permanent link">#</a></h3>
<p>DCS API defines two coordinate systems: global and local. Both of these are right handed coordinate systems defined as follows:</p>
<ul>
<li>+x -&gt; forward</li>
<li>+y -&gt; up</li>
<li>+z -&gt; right</li>
</ul>
<p>Since this is a right handed coordinate system the rotations are more easily defined in terms of the body (local) coordinates as if flying the aircraft:</p>
<ul>
<li>+rotation around x -&gt; roll right</li>
<li>+rotation around y -&gt; yaw left</li>
<li>+rotation around z -&gt; pitch up</li>
</ul>
<h4 id="local">Local<a class="headerlink" href="#local" title="Permanent link">#</a></h4>
<p>This may also be known as body or aircraft body. This is the reference frame relative to the aircraft, as if you were flying along with the aircraft. The origin is defined from the centre of the model, note the centre of mass defined in the entry.lua is also defined from the origin of the model.</p>
<ul>
<li>+x -&gt; forward torwards the nose</li>
<li>+y -&gt; up</li>
<li>+z -&gt; along out the right wing</li>
</ul>
<p>the rotations are the same as those described just above.</p>
<h4 id="global">Global<a class="headerlink" href="#global" title="Permanent link">#</a></h4>
<p>This refers to DCS's global or world coordinate system, this has no physical meaning this is just the underlying coordinate system used by the DCS engine, since DCS exists on a flat earth.</p>
<p>The closest analogue to real coordinates <a href="https://en.wikipedia.org/wiki/Local_tangent_plane_coordinates">local tangent plane coordinates</a> for rotation (DCS is NUE). The DCS global frame is local tangent plane coordinates but also the position is absolute <strong>not relative to the aircraft position.</strong></p>
<p>In DCS the coordinates have the following meanings:</p>
<ul>
<li>+x -&gt; north</li>
<li>+y -&gt; up</li>
<li>+z -&gt; east</li>
</ul>
<p>the rotations are the same as those described above, the only thing worth noting is the rotation around the y axis (yaw or heading) is positive to the left (west from north). This is the opposite of the normal convention of the compass starting at north and increasing eastward.</p>
<p>This must be taken into account when using yaw angle for heading.</p>
<h3 id="function-overview">Function Overview<a class="headerlink" href="#function-overview" title="Permanent link">#</a></h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Data Direction</th>
<th>Purpose</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>ed_fm_add_local_force</td>
<td>EFM-&gt;DCS</td>
<td>Add <strong>one</strong> force in the <a href="#local">local</a> frame.</td>
<td>Adding Lift/Drag Force</td>
</tr>
<tr>
<td>ed_fm_add_local_force_component</td>
<td>EFM-&gt;DCS</td>
<td>Add <strong>many</strong> forces in the <a href="#local">local</a> frame.</td>
<td>Adding Lift and Drag forces for a multi-element method</td>
</tr>
<tr>
<td>ed_fm_add_global_force</td>
<td>EFM-&gt;DCS</td>
<td>Add <strong>one</strong> force in the <a href="#global">global</a> frame.</td>
<td>Adding force from a hot airballoon.</td>
</tr>
<tr>
<td>ed_fm_add_global_force_component</td>
<td>EFM-&gt;DCS</td>
<td>Add <strong>many</strong> forces in the <a href="#global">global</a> frame.</td>
<td>Adding forces from multiple attached helium balloons.</td>
</tr>
<tr>
<td>ed_fm_add_local_moment</td>
<td>EFM-&gt;DCS</td>
<td>Add <strong>one</strong> moment in the <a href="#local">local</a> frame.</td>
<td>Adding stability derivative moments.</td>
</tr>
<tr>
<td>ed_fm_add_local_moment_component</td>
<td>EFM-&gt;DCS</td>
<td>Add <strong>many</strong> forces in the <a href="#local">local</a> frame.</td>
<td></td>
</tr>
<tr>
<td>ed_fm_add_global_moment</td>
<td>EFM-&gt;DCS</td>
<td>Add <strong>one</strong> moment in the <a href="#global">global</a> frame.</td>
<td></td>
</tr>
<tr>
<td>ed_fm_add_global_moment_component</td>
<td>EFM-&gt;DCS</td>
<td>Add <strong>many</strong> forces in the <a href="#global">global</a> frame.</td>
<td></td>
</tr>
<tr>
<td>ed_fm_simulate</td>
<td>N/A</td>
<td>Update function called by DCS every frame to simulate your flight model</td>
<td>simulate and update: engine, flight model</td>
</tr>
<tr>
<td>ed_fm_set_atmosphere</td>
<td>DCS-&gt;EFM</td>
<td>DCS gives atmosphere state to your simulation at your aircraft's current position</td>
<td>Update your internal atmosphere state for flight model.</td>
</tr>
<tr>
<td>ed_fm_set_current_mass_state</td>
<td>DCS-&gt;EFM</td>
<td>DCS gives current aircraft mass state</td>
<td>Update mass state, for example centre of mass useful for calculating moments.</td>
</tr>
<tr>
<td>ed_fm_set_current_state</td>
<td>DCS-&gt;EFM</td>
<td>DCS gives current physics rigidbody state in <a href="#global">global or world coordinates</a>.</td>
<td></td>
</tr>
<tr>
<td>ed_fm_set_current_state_body_axis</td>
<td>DCS-&gt;EFM</td>
<td>DCS gives current physics rigidbody state in <a href="#local">local or body coordinates</a>.</td>
<td></td>
</tr>
<tr>
<td>ed_fm_on_damage</td>
<td>DCS-&gt;EFM</td>
<td>DCS calls whenever your aircraft takes damage supplying the element and it's new health</td>
<td>Updating your damage state.</td>
</tr>
<tr>
<td>ed_fm_set_command</td>
<td>DCS-&gt;EFM</td>
<td>DCS calls whenever a command is processed.</td>
<td>Setting input like flight stick and throttle position.</td>
</tr>
<tr>
<td>ed_fm_change_mass</td>
<td>EFM-&gt;DCS</td>
<td>DCS asks for any mass change requests</td>
<td>Update mass as fuel is burned from the aircraft, or update mass when fuel is added.</td>
</tr>
<tr>
<td>ed_fm_set_internal_fuel</td>
<td>DCS-&gt;EFM</td>
<td>DCS calls whenever fuel is set or added</td>
<td>Set your fuel system fuel level.</td>
</tr>
<tr>
<td>ed_fm_refueling_add_fuel</td>
<td>DCS-&gt;EFM</td>
<td>DCS calls whenever fuel is added, optional if not present DCS will call set_internal_fuel repeatedly to add fuel.</td>
<td>Add fuel during refueing.</td>
</tr>
<tr>
<td>ed_fm_get_internal_fuel</td>
<td>EFM-&gt;DCS</td>
<td>DCS asks for internal fuel remaining</td>
<td>To inform DCS of your fuel state.</td>
</tr>
<tr>
<td>ed_fm_get_external_fuel</td>
<td>EFM-&gt;DCS</td>
<td>DCS asks for external fuel remaining</td>
<td>To inform DCS of your external fuel state.</td>
</tr>
<tr>
<td>ed_fm_set_draw_args</td>
<td>EFM-&gt;DCS</td>
<td>DCS asks for changes to external draw args.</td>
<td>Set any external arguments.</td>
</tr>
<tr>
<td>... internal args ...</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ed_fm_configure</td>
<td>N/A</td>
<td>DCS calls upon simulation start.</td>
<td>Setup and data-structures before the simulation starts.</td>
</tr>
<tr>
<td>ed_fm_get_param</td>
<td>DCS-&gt;EFM</td>
<td>DCS asks for information about certain parameters about your simulation.</td>
<td>Inform DCS of certain parameters like engine RPM.</td>
</tr>
<tr>
<td>ed_fm_set_surface</td>
<td>DCS-&gt;EFM</td>
<td>DCS gives information about the surface below the aircraft.</td>
<td>To calculate ground effect.</td>
</tr>
<tr>
<td>ed_fm_cold_start</td>
<td>DCS-&gt;EFM</td>
<td>DCS calls on cold start.</td>
<td></td>
</tr>
<tr>
<td>ed_fm_hot_start</td>
<td>DCS-&gt;EFM</td>
<td>DCS calls on hot start.</td>
<td></td>
</tr>
<tr>
<td>ed_fm_hot_start_in_air</td>
<td>DCS-&gt;EFM</td>
<td>DCS calls on air start.</td>
<td></td>
</tr>
<tr>
<td>ed_fm_get_shake_amplitude</td>
<td>EFM-&gt;DCS</td>
<td>DCS asks for requested shake.</td>
<td></td>
</tr>
<tr>
<td>ed_fm_repair</td>
<td>DCS-&gt;EFM</td>
<td>DCS calls upon repair.</td>
<td>Repair all your damage.</td>
</tr>
<tr>
<td>ed_fm_need_to_be_repaired</td>
<td>EFM-&gt;DCS</td>
<td>DCS asks if repair is required.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">#</a></h2>
<p>The EFM API can be found under <code>C:\Program Files\Eagle Dynamics\DCS World\API</code> or wherever DCS is installed on your machine.</p>
<hr />
<h2 id="ed_fm_templatecpp">ED_FM_TEMPLATE.cpp<a class="headerlink" href="#ed_fm_templatecpp" title="Permanent link">#</a></h2>
<p>This file can (and should) be renamed to the name of your plane. </p>
<hr />
<h3 id="ed_fm_simulate"><code>ed_fm_simulate</code><a class="headerlink" href="#ed_fm_simulate" title="Permanent link">#</a></h3>
<h4 id="description"><strong>Description</strong><a class="headerlink" href="#description" title="Permanent link">#</a></h4>
<p>This function is called by DCS every frame. Use it to update your aircraft's state, perform physics calculations, and handle system logic. It is analogous to an <code>update()</code> function in Lua devices.</p>
<h4 id="parameters"><strong>Parameters</strong><a class="headerlink" href="#parameters" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dt</code></td>
<td>double</td>
<td>Delta time in seconds since the last frame. <em>(Not yet verified)</em></td>
</tr>
</tbody>
</table>
<h4 id="returns"><strong>Returns</strong><a class="headerlink" href="#returns" title="Permanent link">#</a></h4>
<ul>
<li>None</li>
</ul>
<hr />
<h3 id="ed_fm_set_command"><code>ed_fm_set_command</code><a class="headerlink" href="#ed_fm_set_command" title="Permanent link">#</a></h3>
<h4 id="description_1"><strong>Description</strong><a class="headerlink" href="#description_1" title="Permanent link">#</a></h4>
<p>Called by DCS every time a command is detected., best case is to put a switch statement in here to do actions depending on user input</p>
<h4 id="parameters_1"><strong>Parameters</strong><a class="headerlink" href="#parameters_1" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>command</code></td>
<td>int</td>
<td>Command number from detected input</td>
</tr>
<tr>
<td><code>value</code></td>
<td>float</td>
<td>value of the command</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="ed_fm_set_current_state"><code>ed_fm_set_current_state</code><a class="headerlink" href="#ed_fm_set_current_state" title="Permanent link">#</a></h3>
<h4 id="description_2"><strong>Description</strong><a class="headerlink" href="#description_2" title="Permanent link">#</a></h4>
<p>Called before simulation to set up your environment for the next step.</p>
<h4 id="parameters_2"><strong>Parameters</strong><a class="headerlink" href="#parameters_2" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ax</code></td>
<td>double</td>
<td>Linear acceleration (X) in world coordinates</td>
</tr>
<tr>
<td><code>ay</code></td>
<td>double</td>
<td>Linear acceleration (Y) in world coordinates</td>
</tr>
<tr>
<td><code>az</code></td>
<td>double</td>
<td>Linear acceleration (Z) in world coordinates</td>
</tr>
<tr>
<td><code>vx</code></td>
<td>double</td>
<td>Linear velocity (X) in world coordinates</td>
</tr>
<tr>
<td><code>vy</code></td>
<td>double</td>
<td>Linear velocity (Y) in world coordinates</td>
</tr>
<tr>
<td><code>vz</code></td>
<td>double</td>
<td>Linear velocity (Z) in world coordinates</td>
</tr>
<tr>
<td><code>px</code></td>
<td>double</td>
<td>Body center position (X) in world coordinates</td>
</tr>
<tr>
<td><code>py</code></td>
<td>double</td>
<td>Body center position (Y) in world coordinates</td>
</tr>
<tr>
<td><code>pz</code></td>
<td>double</td>
<td>Body center position (Z) in world coordinates</td>
</tr>
<tr>
<td><code>omegadotx</code></td>
<td>double</td>
<td>Angular acceleration (X) in world coordinates</td>
</tr>
<tr>
<td><code>omegadoty</code></td>
<td>double</td>
<td>Angular acceleration (Y) in world coordinates</td>
</tr>
<tr>
<td><code>omegadotz</code></td>
<td>double</td>
<td>Angular acceleration (Z) in world coordinates</td>
</tr>
<tr>
<td><code>omegax</code></td>
<td>double</td>
<td>Angular velocity (X) in world coordinates</td>
</tr>
<tr>
<td><code>omegay</code></td>
<td>double</td>
<td>Angular velocity (Y) in world coordinates</td>
</tr>
<tr>
<td><code>omegaz</code></td>
<td>double</td>
<td>Angular velocity (Z) in world coordinates</td>
</tr>
<tr>
<td><code>quaternion_x</code></td>
<td>double</td>
<td>Orientation quaternion (X) in world coordinates</td>
</tr>
<tr>
<td><code>quaternion_y</code></td>
<td>double</td>
<td>Orientation quaternion (Y) in world coordinates</td>
</tr>
<tr>
<td><code>quaternion_z</code></td>
<td>double</td>
<td>Orientation quaternion (Z) in world coordinates</td>
</tr>
<tr>
<td><code>quaternion_w</code></td>
<td>double</td>
<td>Orientation quaternion (W) in world coordinates</td>
</tr>
</tbody>
</table>
<h4 id="returns_1"><strong>Returns</strong><a class="headerlink" href="#returns_1" title="Permanent link">#</a></h4>
<ul>
<li>None</li>
</ul>
<hr />
<h3 id="ed_fm_set_current_state_body_axis"><code>ed_fm_set_current_state_body_axis</code><a class="headerlink" href="#ed_fm_set_current_state_body_axis" title="Permanent link">#</a></h3>
<p>Sets the aircraft's current state using body axis coordinates.</p>
<h4 id="parameters_3"><strong>Parameters</strong><a class="headerlink" href="#parameters_3" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ax</code></td>
<td>double</td>
<td>Linear acceleration (X) in body coordinates</td>
</tr>
<tr>
<td><code>ay</code></td>
<td>double</td>
<td>Linear acceleration (Y) in body coordinates</td>
</tr>
<tr>
<td><code>az</code></td>
<td>double</td>
<td>Linear acceleration (Z) in body coordinates</td>
</tr>
<tr>
<td><code>vx</code></td>
<td>double</td>
<td>Linear velocity (X) in body coordinates</td>
</tr>
<tr>
<td><code>vy</code></td>
<td>double</td>
<td>Linear velocity (Y) in body coordinates</td>
</tr>
<tr>
<td><code>vz</code></td>
<td>double</td>
<td>Linear velocity (Z) in body coordinates</td>
</tr>
<tr>
<td><code>wind_vx</code></td>
<td>double</td>
<td>Wind velocity (X) in body coordinates</td>
</tr>
<tr>
<td><code>wind_vy</code></td>
<td>double</td>
<td>Wind velocity (Y) in body coordinates</td>
</tr>
<tr>
<td><code>wind_vz</code></td>
<td>double</td>
<td>Wind velocity (Z) in body coordinates</td>
</tr>
<tr>
<td><code>omegadotx</code></td>
<td>double</td>
<td>Angular acceleration (X) in body coordinates</td>
</tr>
<tr>
<td><code>omegadoty</code></td>
<td>double</td>
<td>Angular acceleration (Y) in body coordinates</td>
</tr>
<tr>
<td><code>omegadotz</code></td>
<td>double</td>
<td>Angular acceleration (Z) in body coordinates</td>
</tr>
<tr>
<td><code>omegax</code></td>
<td>double</td>
<td>Angular velocity (X) in body coordinates</td>
</tr>
<tr>
<td><code>omegay</code></td>
<td>double</td>
<td>Angular velocity (Y) in body coordinates</td>
</tr>
<tr>
<td><code>omegaz</code></td>
<td>double</td>
<td>Angular velocity (Z) in body coordinates</td>
</tr>
<tr>
<td><code>yaw</code></td>
<td>double</td>
<td>Yaw angle in radians</td>
</tr>
<tr>
<td><code>pitch</code></td>
<td>double</td>
<td>Pitch angle in radians</td>
</tr>
<tr>
<td><code>roll</code></td>
<td>double</td>
<td>Roll angle in radians</td>
</tr>
<tr>
<td><code>common_angle_of_attack</code></td>
<td>double</td>
<td>Angle of attack (AoA) in radians</td>
</tr>
<tr>
<td><code>common_angle_of_slide</code></td>
<td>double</td>
<td>Angle of sideslip (AoS) in radians</td>
</tr>
</tbody>
</table>
<h4 id="description_3"><strong>Description</strong><a class="headerlink" href="#description_3" title="Permanent link">#</a></h4>
<p>Called before simulation to set up the aircraft's state in body axis coordinates, including wind and orientation angles.</p>
<h4 id="returns_2"><strong>Returns</strong><a class="headerlink" href="#returns_2" title="Permanent link">#</a></h4>
<ul>
<li>None</li>
</ul>
<hr />
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../Lua/Plugins/LuaToolsPlugin/" class="btn btn-neutral float-left" title="LuaToolsPlugin"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../Useful_bits/prop_blur/" class="btn btn-neutral float-right" title="Prop Blur">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../Lua/Plugins/LuaToolsPlugin/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Useful_bits/prop_blur/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
